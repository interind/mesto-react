{"version":3,"sources":["utils/api.js","context/CurrentUserContext.js","components/Card.js","components/Popup.js","components/ImagePopup.js","components/Main.js","images/header/logoFon.svg","components/Header.js","components/Footer.js","components/Loader/Loader.js","components/PopupWithForm.js","components/MarkupForPopups.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/Error/ErrorBoundary.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/Error/ErrorPage.js","components/App.js","index.js"],"names":["api","url","token","user","cards","this","_url","_token","_user","_cards","res","ok","json","Promise","reject","Error","status","fetch","headers","authorization","then","_getResponse","name","about","method","body","JSON","stringify","avatar","link","infoId","isLike","toggleMethod","id","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardDelete","onCardLike","_id","useContext","useState","visible","setVisible","Fragment","className","src","alt","onError","onClick","owner","type","title","likes","find","map","like","index","length","Popup","isOpen","onClose","children","popup","classes","popup_opened","onMouseDown","evt","currentTarget","target","ImagePopup","selectedCard","Main","onEditAvatar","onEditProfile","onAddPlace","handleCardDelete","closeAllPopups","handleCardClick","handleCardLike","createdAt","Header","headerLogo","Footer","Date","getFullYear","Loader","PopupWithForm","active","onSubmit","buttonTitle","disabledButton","classDisActive","disabled","MarkupForPopups","props","placeholder","value","avatarUser","ref","inputRef","onChange","editAvatar","onInput","validationAvatar","required","avatarMessage","minLength","maxLength","nameProfile","editName","validationProfile","profileMessage","editAbout","place","editPlace","validationPlace","placeMessage","editLink","AddPlacePopup","isLoadingButton","placePopup","namePlace","setPlace","setLink","activeButton","setActiveButton","validPlace","setValidPlace","preventDefault","validity","valid","validationMessage","DeleteCardPopup","onDeleteCard","isCard","deletePopup","ErrorBoundary","state","error","errorInfo","setState","style","whiteSpace","toString","componentStack","Component","EditAvatarPopup","onUpdateAvatar","avatarPopup","useRef","setAvatar","validAvatar","setValidAvatar","current","EditProfilePopup","onUpdateUser","profile","currentUser","setName","description","setDescription","validProfile","setValidProfile","useEffect","ErrorPage","message","color","App","setIsCard","isAddPlacePopupOpen","setAddPlacePopup","isEditAvatarPopupOpen","setEditAvatarPopup","isEditProfilePopupOpen","setEditProfilePopup","isConfirmTrashPopupOpen","setConfirmTrashPopup","setCurrentUser","setCards","loading","setLoading","statusOk","setIsOk","statusError","setError","setSelectedCard","buttonLoading","setButtonLoading","undefined","closeAllPopupsEsc","key","window","addEventListener","removeEventListener","all","getInfoForUser","getInfoForCards","dataUser","dataCards","catch","err","console","finally","Provider","isLiked","some","i","changeLikeCardStatus","newCard","newCards","c","addCard","updateUserAvatar","infoAvatar","updateUserInfo","infoUser","idCard","deleteCard","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1e404697.chunk.js","sourcesContent":["class Api {\r\n  constructor({\r\n    url,\r\n    token,\r\n    user,\r\n    cards,\r\n  }) {\r\n    this._url = url;\r\n    this._token = token;\r\n    this._user = user;\r\n    this._cards = cards;\r\n  }\r\n\r\n  _getResponse(res) {\r\n    return res.ok\r\n      ? res.json()\r\n      : Promise.reject(new Error(`Ошибка api: ${res.status}`));\r\n  }\r\n\r\n  getInfoForUser() {\r\n    return fetch(`${this._url}${this._user}`, {\r\n      headers: {\r\n        authorization: `${this._token}`,\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n      },\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  getInfoForCards() {\r\n    return fetch(`${this._url}${this._cards}`, {\r\n      headers: {\r\n        authorization: `${this._token}`,\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n      },\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  updateUserInfo({ name, about }) {\r\n    return fetch(`${this._url}${this._user}`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: `${this._token}`,\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        about,\r\n      }),\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  updateUserAvatar({ avatar }) {\r\n    return fetch(`${this._url}${this._user}/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: `${this._token}`,\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n      },\r\n      body: JSON.stringify({\r\n        avatar,\r\n      }),\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  addCard({ name, link }) {\r\n    return fetch(`${this._url}${this._cards}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: `${this._token}`,\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        link,\r\n      }),\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  changeLikeCardStatus(infoId, isLike) {\r\n    const toggleMethod = isLike ? 'PUT' : 'DELETE';\r\n    return fetch(`${this._url}${this._cards}/likes/${infoId}`, {\r\n      method: toggleMethod,\r\n\r\n      headers: {\r\n        authorization: `${this._token}`,\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n      },\r\n    }).then(this._getResponse);\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._url}${this._cards}/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: `${this._token}`,\r\n        'Content-type': 'application/json; charset=UTF-8',\r\n      },\r\n    }).then(this._getResponse);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-16/',\r\n  token: 'bba27b67-a97d-4fd9-b42d-01c5b1258337',\r\n  user: 'users/me',\r\n  cards: 'cards',\r\n});\r\n\r\nexport default api;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../context/CurrentUserContext.js';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Card({ card, onCardClick, onCardDelete, onCardLike }) {\r\n  const { _id } = React.useContext(CurrentUserContext);\r\n  const [visible, setVisible] = React.useState(true);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {visible && (\r\n        <div className='element'>\r\n          <img\r\n            className='element__pic'\r\n            src={card.link}\r\n            alt={card.name}\r\n            onError={() => {\r\n              setVisible(false);\r\n            }}\r\n            onClick={() => onCardClick(card)}\r\n          />\r\n          <button\r\n            className={`element__button-trash ${\r\n              card.owner &&\r\n              (card.owner._id === _id ? 'element__button-trash_visible' : '')\r\n            }`}\r\n            type='button'\r\n            title='кнопка удаления карточки'\r\n            onClick={() => onCardDelete(card)}></button>\r\n          <div className='element__info'>\r\n            <h2 className='element__title' title={card.name}>\r\n              {card.name}\r\n            </h2>\r\n            {card.likes && (\r\n              <div className='element__like'>\r\n                <button\r\n                  className={`element__button-like element__button-like_color_white ${\r\n                    card.likes.find((id) => id._id === _id)\r\n                      ? 'element__button-like_color_black'\r\n                      : ''\r\n                  }`}\r\n                  type='button'\r\n                  title='кнопка для лайков'\r\n                  onClick={() => onCardLike(card)}></button>\r\n                <span\r\n                  className='element__counter-like'\r\n                  title={card.likes.map(\r\n                    (like, index) => index + 1 + '🖤' + like.name\r\n                  )}>\r\n                  {card.likes.length}\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nCard.propTypes = {\r\n  card: PropTypes.object,\r\n  onCardClick: PropTypes.func.isRequired,\r\n  onCardDelete: PropTypes.func.isRequired,\r\n  onCardLike: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classes from 'classnames';\r\n\r\nfunction Popup({ name, isOpen, onClose, children }) {\r\n  const popup = classes(`popup popup_type_${name}`, { popup_opened: isOpen });\r\n\r\n  function clickClosePopup(evt) {\r\n    evt.currentTarget === evt.target && onClose();\r\n  }\r\n\r\n  return (\r\n     <div\r\n        className={popup}\r\n        onMouseDown={clickClosePopup}>\r\n       {children}\r\n     </div>\r\n  );\r\n}\r\n\r\nPopup.propTypes = {\r\n  isOpen: PropTypes.bool,\r\n  name: PropTypes.string,\r\n  onClose: PropTypes.func.isRequired,\r\n  children: PropTypes.object,\r\n};\r\n\r\nexport default Popup;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Popup from './Popup';\r\n\r\nfunction ImagePopup({ selectedCard, onClose }) {\r\n  return (\r\n    <Popup name={'zoom'} isOpen={selectedCard} onClose={onClose}>\r\n      {selectedCard && (<div className='popup__zoom'>\r\n        <img\r\n          className='popup__pic'\r\n          src={selectedCard.link}\r\n          alt={selectedCard.name}\r\n        />\r\n        <span className='popup__place-pic'>{selectedCard.name}</span>\r\n        <button\r\n            className='popup__button-close'\r\n            type='button'\r\n            title='закрыть'\r\n            onClick={onClose}\r\n          />\r\n      </div>)}\r\n    </Popup>\r\n  );\r\n}\r\n\r\nImagePopup.propTypes = {\r\n  selectedCard: PropTypes.object || undefined,\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImagePopup;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Card from './Card.js';\r\nimport ImagePopup from './ImagePopup.js';\r\nimport { CurrentUserContext } from '../context/CurrentUserContext.js';\r\n\r\nfunction Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  handleCardDelete,\r\n  closeAllPopups,\r\n  handleCardClick,\r\n  selectedCard,\r\n  cards,\r\n  handleCardLike,\r\n}) {\r\n  const { name, about, avatar, _id } = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <React.Fragment>\r\n        <section className='profile page__profile'>\r\n          <img\r\n            className='profile__avatar'\r\n            src={avatar}\r\n            alt='Аватарка'\r\n            id={_id}\r\n            onClick={onEditAvatar}\r\n          />\r\n          <div className='profile__info'>\r\n            <h1 className='profile__title' title={name}>\r\n              {name}\r\n            </h1>\r\n            <button\r\n              className='profile__edit-button'\r\n              type='button'\r\n              title='изменить данные профиля'\r\n              onClick={onEditProfile}></button>\r\n            <p className='profile__subtitle' title={about}>\r\n              {about}\r\n            </p>\r\n          </div>\r\n          <button\r\n            className='profile__add-button'\r\n            type='button'\r\n            title='добавить картинки'\r\n            onClick={onAddPlace}></button>\r\n        </section>\r\n      <div className='elements page__elements'>\r\n        {cards.map((card) => {\r\n          return (\r\n            <Card\r\n              onCardDelete={handleCardDelete}\r\n              card={card}\r\n              key={card.createdAt + card._id}\r\n              onCardClick={handleCardClick}\r\n              onCardLike={handleCardLike}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n      <ImagePopup\r\n        selectedCard={selectedCard}\r\n        onClose={closeAllPopups}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nMain.propTypes = {\r\n  onEditAvatar: PropTypes.func.isRequired,\r\n  onEditProfile: PropTypes.func.isRequired,\r\n  onAddPlace: PropTypes.func.isRequired,\r\n  handleCardDelete: PropTypes.func.isRequired,\r\n  closeAllPopups: PropTypes.func.isRequired,\r\n  handleCardClick: PropTypes.func.isRequired,\r\n  selectedCard: PropTypes.object,\r\n  cards: PropTypes.array,\r\n  handleCardLike: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Main;\r\n","export default __webpack_public_path__ + \"static/media/logoFon.8724261e.svg\";","import React from 'react';\r\nimport headerLogo from '../images/header/logoFon.svg';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className='header page__header'>\r\n      <img className='logo header__logo' src={headerLogo} alt='Логотип' />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className='footer page__footer'>\r\n      <p className='footer__copyright'>\r\n        &copy;{new Date().getFullYear()} Mesto Russia\r\n      </p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport './Loader.css';\r\n\r\nfunction Loader() {\r\n  return <div className='lds-dual-ring'></div>;\r\n}\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Popup from './Popup';\r\n\r\nfunction PopupWithForm({\r\n  active,\r\n  name,\r\n  title,\r\n  onSubmit,\r\n  buttonTitle,\r\n  onClose,\r\n  isOpen,\r\n  children,\r\n}) {\r\n  const disabledButton = active ? 'disabled' : '';\r\n  const classDisActive = active ? 'popup__button-submit_disabled' : '';\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Popup name={name} isOpen={isOpen} onClose={onClose}>\r\n        <form\r\n          className={`popup__container popup__container_type_${name}`}\r\n          name={name}\r\n          onSubmit={onSubmit}>\r\n          <h2 className='popup__title'>{title}</h2>\r\n          {children}\r\n          <button\r\n            className={`popup__button-submit ${classDisActive}`}\r\n            type='submit'\r\n            title={buttonTitle}\r\n            disabled={disabledButton}>\r\n            {buttonTitle}\r\n          </button>\r\n          <button\r\n            className='popup__button-close'\r\n            type='button'\r\n            title='закрыть'\r\n            onClick={onClose}></button>\r\n        </form>\r\n      </Popup>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nPopupWithForm.propTypes = {\r\n  active: PropTypes.bool,\r\n  isOpen: PropTypes.bool,\r\n  name: PropTypes.string,\r\n  title: PropTypes.string,\r\n  buttonTitle: PropTypes.string,\r\n  onSubmit: PropTypes.func.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  children: PropTypes.object,\r\n};\r\n\r\nexport default PopupWithForm;\r\n","/* eslint-disable react/prop-types */\r\nimport React from 'react';\r\n\r\nexport const MarkupForPopups = {\r\n  Avatar: function Avatar(props) {\r\n    return (\r\n      <React.Fragment>\r\n        <input\r\n          className='popup__input'\r\n          type='url'\r\n          placeholder='Ссылка на картинку'\r\n          id='input-avatar'\r\n          name='avatar'\r\n          value={props.avatarUser}\r\n          ref={props.inputRef}\r\n          onChange={props.editAvatar}\r\n          onInput={props.validationAvatar}\r\n          required\r\n        />\r\n        {props.avatar !== '' && (\r\n          <div className='popup__error'>\r\n            <span\r\n              className='popup__input-error popup__input-error_active'\r\n              id='input-avatar-error '>\r\n              {props.avatarMessage}\r\n            </span>\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  },\r\n\r\n  Profile: function Profile(props) {\r\n    return (\r\n      <React.Fragment>\r\n        <input\r\n          className='popup__input'\r\n          id='input-name'\r\n          type='text'\r\n          name='name'\r\n          minLength='2'\r\n          maxLength='40'\r\n          placeholder='Имя'\r\n          value={props.nameProfile}\r\n          onChange={props.editName}\r\n          onInput={props.validationProfile}\r\n          required\r\n        />\r\n        {props.nameProfile === '' && (\r\n          <div className='popup__error'>\r\n            <span\r\n              className='popup__input-error popup__input-error_active'\r\n              id='input-name-error'>\r\n              {props.profileMessage.name}\r\n            </span>\r\n          </div>\r\n        )}\r\n        <input\r\n          className='popup__input'\r\n          id='input-about'\r\n          type='text'\r\n          name='about'\r\n          minLength='2'\r\n          maxLength='200'\r\n          placeholder='Профессия'\r\n          value={props.about}\r\n          onChange={props.editAbout}\r\n          onInput={props.validationProfile}\r\n          required\r\n        />\r\n        {props.about === '' && (\r\n          <div className='popup__error'>\r\n            <span\r\n              className='popup__input-error popup__input-error_active'\r\n              id='input-about-error'>\r\n              {props.profileMessage.about}\r\n            </span>\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  },\r\n  Place: function Place(props) {\r\n    return (\r\n      <React.Fragment>\r\n        <input\r\n          className='popup__input'\r\n          type='text'\r\n          placeholder='Название'\r\n          id='input-place'\r\n          name='place'\r\n          minLength='1'\r\n          value={props.place}\r\n          maxLength='30'\r\n          onChange={props.editPlace}\r\n          onInput={props.validationPlace}\r\n          required\r\n        />\r\n        {props.place === '' && (\r\n          <div className='popup__error'>\r\n            <span\r\n              className='popup__input-error popup__input-error_active'\r\n              id='input-place-error'>\r\n              {props.placeMessage.place}\r\n            </span>\r\n          </div>\r\n        )}\r\n        <input\r\n          className='popup__input'\r\n          type='url'\r\n          placeholder='Ссылка на картинку'\r\n          id='input-link'\r\n          value={props.link}\r\n          name='link'\r\n          onChange={props.editLink}\r\n          onInput={props.validationPlace}\r\n          required\r\n        />\r\n        {props.link !== '' && (\r\n          <div className='popup__error'>\r\n            <span\r\n              className='popup__input-error popup__input-error_active'\r\n              id='input-link-error'>\r\n              {props.placeMessage.link}\r\n            </span>\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    );\r\n  },\r\n};\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { MarkupForPopups } from './MarkupForPopups.js';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction AddPlacePopup({ isLoadingButton, isOpen, onClose, onAddPlace }) {\r\n  const textButton = isLoadingButton ? 'Сохранение...' : 'Сохранить';\r\n  const placePopup = {\r\n    id: 3,\r\n    name: 'place',\r\n    title: 'Новое место',\r\n    buttonTitle: `${textButton}`,\r\n  };\r\n\r\n  const [namePlace, setPlace] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n  let [activeButton, setActiveButton] = React.useState(true);\r\n\r\n  const [validPlace, setValidPlace] = React.useState({\r\n    place: '',\r\n    link: '',\r\n  });\r\n\r\n  function validationPlace(evt) {\r\n    !evt.target.validity.valid\r\n      ? setValidPlace({\r\n          [evt.target.name]: evt.target.validationMessage,\r\n        })\r\n      : setValidPlace({\r\n          [evt.target.name]: '',\r\n        });\r\n  }\r\n\r\n  function setPlaceName(evt) {\r\n    setPlace(evt.target.value);\r\n    setActiveButton(!evt.target.value);\r\n  }\r\n  function setLinkPlace(evt) {\r\n    setLink(evt.target.value);\r\n    setActiveButton(!evt.target.value);\r\n  }\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    setPlace('');\r\n    setLink('');\r\n    onAddPlace({\r\n      name: namePlace,\r\n      link: link,\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      key={placePopup.id}\r\n      name={placePopup.name}\r\n      title={placePopup.title}\r\n      buttonTitle={placePopup.buttonTitle}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      active={activeButton}\r\n      onSubmit={handleSubmit}>\r\n      <MarkupForPopups.Place\r\n        place={namePlace}\r\n        link={link}\r\n        editPlace={setPlaceName}\r\n        editLink={setLinkPlace}\r\n        placeMessage={validPlace}\r\n        validationPlace={validationPlace}\r\n      />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nAddPlacePopup.propTypes = {\r\n  isLoadingButton: PropTypes.bool,\r\n  isOpen: PropTypes.bool,\r\n  onClose: PropTypes.func.isRequired,\r\n  onAddPlace: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction DeleteCardPopup({\r\n  isLoadingButton,\r\n  isOpen,\r\n  onClose,\r\n  onDeleteCard,\r\n  isCard,\r\n}) {\r\n  const textButton = isLoadingButton ? 'Удаляем...' : 'Да';\r\n  const deletePopup = {\r\n    id: 4,\r\n    name: 'trash',\r\n    title: 'Вы уверены?',\r\n    buttonTitle: `${textButton}`,\r\n  };\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    onDeleteCard(isCard);\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      key={deletePopup.id}\r\n      name={deletePopup.name}\r\n      title={deletePopup.title}\r\n      buttonTitle={deletePopup.buttonTitle}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n\r\nDeleteCardPopup.propTypes = {\r\n  isLoadingButton: PropTypes.bool,\r\n  isOpen: PropTypes.bool,\r\n  onClose: PropTypes.func.isRequired,\r\n  onDeleteCard: PropTypes.func.isRequired,\r\n  isCard: PropTypes.object,\r\n};\r\n\r\nexport default DeleteCardPopup;\r\n","/* eslint-disable react/prop-types */\r\nimport React from 'react';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { error: null, errorInfo: null };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    // Catch errors in any components below and re-render with error message\r\n    this.setState({\r\n      error: error,\r\n      errorInfo: errorInfo,\r\n    });\r\n    // You can also log error messages to an error reporting service here\r\n  }\r\n\r\n  render() {\r\n    if (this.state.errorInfo) {\r\n      // Error path\r\n      return (\r\n        <div>\r\n          <h2>Что-то пошло не так!</h2>\r\n          <details style={{ whiteSpace: 'pre-wrap' }}>\r\n            {this.state.error && this.state.error.toString()}\r\n            <br />\r\n            {this.state.errorInfo.componentStack}\r\n          </details>\r\n        </div>\r\n      );\r\n    }\r\n    // Normally, just render children\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { MarkupForPopups } from './MarkupForPopups.js';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction EditAvatarPopup({ isLoadingButton, isOpen, onClose, onUpdateAvatar }) {\r\n  const textButton = isLoadingButton ? 'Сохранение...' : 'Сохранить';\r\n  const avatarPopup = {\r\n    id: 1,\r\n    name: 'avatar',\r\n    title: 'Обновить аватар',\r\n    buttonTitle: `${textButton}`,\r\n  };\r\n\r\n  const inputRef = React.useRef();\r\n  const [avatarUser, setAvatar] = React.useState('');\r\n  let [activeButton, setActiveButton] = React.useState(true);\r\n  const [validAvatar, setValidAvatar] = React.useState('');\r\n\r\n  function validationAvatar(evt) {\r\n    !evt.target.validity.valid\r\n      ? setValidAvatar(evt.target.validationMessage)\r\n      : setValidAvatar('');\r\n  }\r\n\r\n  function setAvatarUser() {\r\n    setAvatar(inputRef.current.value);\r\n    setActiveButton(!inputRef.current.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    setAvatar('');\r\n\r\n    onUpdateAvatar({\r\n      avatar: avatarUser,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      key={avatarPopup.id}\r\n      name={avatarPopup.name}\r\n      title={avatarPopup.title}\r\n      buttonTitle={avatarPopup.buttonTitle}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      active={activeButton}>\r\n      <MarkupForPopups.Avatar\r\n        avatarUser={avatarUser}\r\n        inputRef={inputRef}\r\n        editAvatar={setAvatarUser}\r\n        avatarMessage={validAvatar}\r\n        validationAvatar={validationAvatar}\r\n      />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nEditAvatarPopup.propTypes = {\r\n  isLoadingButton: PropTypes.bool,\r\n  isOpen: PropTypes.bool,\r\n  onClose: PropTypes.func.isRequired,\r\n  onUpdateAvatar: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { MarkupForPopups } from './MarkupForPopups.js';\r\nimport { CurrentUserContext } from '../context/CurrentUserContext.js';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction EditProfilePopup({ isLoadingButton, isOpen, onClose, onUpdateUser }) {\r\n  const textButton = isLoadingButton ? 'Сохранение...' : 'Сохранить';\r\n  const profile = {\r\n    id: 2,\r\n    name: 'profile',\r\n    title: 'Редактировать форму',\r\n    buttonTitle: `${textButton}`,\r\n  };\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [nameProfile, setName] = React.useState({ name: '' });\r\n  const [description, setDescription] = React.useState({ about: '' });\r\n  let [activeButton, setActiveButton] = React.useState(true);\r\n  const [validProfile, setValidProfile] = React.useState({\r\n    name: '',\r\n    about: '',\r\n  });\r\n\r\n  function validationProfile(evt) {\r\n    !evt.target.validity.valid\r\n      ? setValidProfile({\r\n          [evt.target.name]: evt.target.validationMessage,\r\n        })\r\n      : setValidProfile({\r\n          [evt.target.name]: '',\r\n        });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function setNameProfile(evt) {\r\n    setName(evt.target.value);\r\n    setActiveButton(!evt.target.value);\r\n  }\r\n  function setDescriptionProfile(evt) {\r\n    setDescription(evt.target.value);\r\n    setActiveButton(!evt.target.value);\r\n  }\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name: nameProfile,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      key={profile.id}\r\n      name={profile.name}\r\n      title={profile.title}\r\n      buttonTitle={profile.buttonTitle}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      active={activeButton}>\r\n      <MarkupForPopups.Profile\r\n        editName={setNameProfile}\r\n        editAbout={setDescriptionProfile}\r\n        nameProfile={nameProfile}\r\n        about={description}\r\n        profileMessage={validProfile}\r\n        validationProfile={validationProfile}\r\n      />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nEditProfilePopup.propTypes = {\r\n  isLoadingButton: PropTypes.bool,\r\n  isOpen: PropTypes.bool,\r\n  onClose: PropTypes.func.isRequired,\r\n  onUpdateUser: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default EditProfilePopup;\r\n","/* eslint-disable react/prop-types */\r\nimport React from 'react';\r\n\r\nexport function ErrorPage({ error }) {\r\n  const styleErr = {\r\n    'color': '#f00',\r\n    'display': 'flex',\r\n    'flexDirection': 'column',\r\n    'justify-content': 'center',\r\n    'align-items': 'center',\r\n    'minHeight': '60vh',\r\n  };\r\n return (\r\n   <React.Fragment>\r\n     <div style={styleErr}>\r\n       <h1>{error.message}</h1>\r\n       <p style={{ color: '#fff' }}>попробуйте зайти позже</p>\r\n     </div>\r\n   </React.Fragment>\r\n );\r\n}\r\n","/* eslint-disable no-undef */\r\nimport React from 'react';\r\nimport api from '../utils/api.js';\r\nimport Main from './Main.js';\r\nimport Header from './Header.js';\r\nimport Footer from './Footer.js';\r\nimport Loader from './Loader/Loader.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport DeleteCardPopup from './DeleteCardPopup.js';\r\nimport ErrorBoundary from './Error/ErrorBoundary.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport { CurrentUserContext } from '../context/CurrentUserContext.js';\r\nimport { ErrorPage } from './Error/ErrorPage';\r\n\r\nfunction App() {\r\n  const [isCard, setIsCard] = React.useState({});\r\n  const [isAddPlacePopupOpen, setAddPlacePopup] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopup] = React.useState(false);\r\n  const [isEditProfilePopupOpen, setEditProfilePopup] = React.useState(false);\r\n  const [isConfirmTrashPopupOpen, setConfirmTrashPopup] = React.useState(false);\r\n  const [currentUser, setCurrentUser] = React.useState({\r\n    name: '',\r\n    about: '',\r\n    _id: '',\r\n    avatar: '',\r\n  }); // тут информация обо мне с сервера\r\n  const [cards, setCards] = React.useState([]); // тут информация о карточках\r\n  const [loading, setLoading] = React.useState(true); // лоадер при загрузке страницы\r\n  const [statusOk, setIsOk] = React.useState(true); // флаг для ошибки сервера\r\n  const [statusError, setError] = React.useState({}); // флаг для ошибки сервера\r\n  const [selectedCard, setSelectedCard] = React.useState(); // объект для попапа с картинкой\r\n  const [buttonLoading, setButtonLoading] = React.useState(false); // Лоадер для кнопки сохранить.\r\n\r\n  function closeAllPopups() {\r\n    // закрытие всех попапов\r\n    setEditAvatarPopup(false);\r\n    setEditProfilePopup(false);\r\n    setAddPlacePopup(false);\r\n    setConfirmTrashPopup(false);\r\n    setSelectedCard(undefined);\r\n    setButtonLoading(false);\r\n  }\r\n\r\n  function closeAllPopupsEsc(evt) {\r\n    if (evt.key === 'Escape') {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    window.addEventListener('keydown', closeAllPopupsEsc);\r\n    return () => {\r\n      window.removeEventListener('keydown', closeAllPopupsEsc);\r\n    };\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    // получаем данные с сервера\r\n    Promise.all([api.getInfoForUser(), api.getInfoForCards()])\r\n      .then(([dataUser, dataCards]) => {\r\n        setCurrentUser(dataUser);\r\n        setCards(dataCards);\r\n      })\r\n      .catch((err) => {\r\n        console.error('Информация сервера с ошибкой', err.message);\r\n        setError(err);\r\n        setIsOk(false);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  function handleUpdateUser({ name, about }) {\r\n    // получаем новую информацию пользователя  с сервера\r\n    setButtonLoading(true);\r\n\r\n    api\r\n      .updateUserInfo({ name, about })\r\n      .then((infoUser) => {\r\n        setCurrentUser({\r\n          ...currentUser,\r\n          name: infoUser.name,\r\n          about: infoUser.about,\r\n        });\r\n      })\r\n      .catch((err) => console.error('Информация обновления пользователя с ошибкой', err))\r\n      .finally(() => {\r\n        closeAllPopups();\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar({avatar}) {\r\n    setButtonLoading(true);\r\n    // получаем обновленный аватар с сервера\r\n    api\r\n      .updateUserAvatar({ avatar })\r\n      .then((infoAvatar) => {\r\n        setCurrentUser({ ...currentUser, avatar: infoAvatar.avatar });\r\n      })\r\n      .catch((err) => console.error('Информация обновления пользователя с ошибкой', err))\r\n      .finally(() => {\r\n        closeAllPopups();\r\n      });\r\n  }\r\n\r\n  function handleAddPlace({name, link}) {\r\n    setButtonLoading(true);\r\n    // получаем новую карточку с сервера и вставляем в начало\r\n    api\r\n      .addCard({ name, link })\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n      })\r\n      .catch((err) => console.error('Информация обновления карточки с ошибкой', err))\r\n      .finally(() => {\r\n        closeAllPopups();\r\n      });\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopup(true);\r\n  }\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopup(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopup(true);\r\n  }\r\n  function handleConfirmTrashClick(card) {\r\n    setConfirmTrashPopup(true);\r\n    setIsCard(card);\r\n  }\r\n  function handleCardClick({name, link}) {\r\n    // для открытия попапа с картинкой\r\n    setSelectedCard({ link, name });\r\n  }\r\n\r\n  function handleCardLike({ likes, _id }) {\r\n    // получаем лайки с сервера\r\n    const isLiked = likes.some((i) => i._id === currentUser._id);\r\n\r\n    api\r\n      .changeLikeCardStatus(_id, !isLiked)\r\n      .then((newCard) => {\r\n        const newCards = cards.map((c) => (c._id === _id ? newCard : c));\r\n        setCards(newCards);\r\n      })\r\n      .catch((err) => console.error('Информация по карточкам с ошибкой', err.message));\r\n  }\r\n\r\n  function handleCardDelete({ _id }) {\r\n    // удаляем карточку\r\n    const idCard = _id;\r\n\r\n    setButtonLoading(true);\r\n\r\n    api\r\n      .deleteCard(_id)\r\n      .then(() => {\r\n        setCards(cards.filter((card) => card._id !== idCard));\r\n      })\r\n      .catch((err) => console.error('Информация по карточкам с ошибкой', err.message))\r\n      .finally(() => {\r\n        closeAllPopups();\r\n      });\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className='page'>\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n          <ErrorBoundary>\r\n            <Header />\r\n            {loading && <Loader />}\r\n            {statusOk ? (\r\n              <React.Fragment>\r\n                <Main\r\n                  onEditProfile={handleEditProfileClick}\r\n                  onEditAvatar={handleEditAvatarClick}\r\n                  onAddPlace={handleAddPlaceClick}\r\n                  handleCardDelete={handleConfirmTrashClick}\r\n                  closeAllPopups={closeAllPopups}\r\n                  handleCardClick={handleCardClick}\r\n                  selectedCard={selectedCard}\r\n                  handleCardLike={handleCardLike}\r\n                  cards={cards}\r\n                  statusOk={statusOk}\r\n                />\r\n\r\n                <AddPlacePopup\r\n                  isOpen={isAddPlacePopupOpen}\r\n                  onClose={closeAllPopups}\r\n                  onAddPlace={handleAddPlace}\r\n                  isLoadingButton={buttonLoading}\r\n                />\r\n                <EditAvatarPopup\r\n                  isOpen={isEditAvatarPopupOpen}\r\n                  onClose={closeAllPopups}\r\n                  onUpdateAvatar={handleUpdateAvatar}\r\n                  isLoadingButton={buttonLoading}\r\n                />\r\n                <EditProfilePopup\r\n                  isOpen={isEditProfilePopupOpen}\r\n                  onClose={closeAllPopups}\r\n                  onUpdateUser={handleUpdateUser}\r\n                  isLoadingButton={buttonLoading}\r\n                />\r\n                <DeleteCardPopup\r\n                  isOpen={isConfirmTrashPopupOpen}\r\n                  onClose={closeAllPopups}\r\n                  onDeleteCard={handleCardDelete}\r\n                  isCard={isCard}\r\n                  isLoadingButton={buttonLoading}\r\n                />\r\n              </React.Fragment>\r\n            ) : (\r\n              <ErrorPage error={statusError} />\r\n            )}\r\n            <Footer />\r\n          </ErrorBoundary>\r\n        </CurrentUserContext.Provider>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './components/App.js';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}